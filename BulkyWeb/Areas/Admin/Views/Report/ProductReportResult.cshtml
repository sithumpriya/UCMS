@model IEnumerable<Product>

@{
    var filter = ViewBag.Filter as ReportFilterVM;
    int count = 1;
}

<div class="container mt-5">
    <div class="card shadow border-0">
        <div class="card-header bg-secondary text-white">
            <h3 class="text-center">Report Result: @filter?.SelectedReport</h3>
        </div>
        <div class="card-body">
            <p>
                <strong>From:</strong> @filter?.FromDate?.ToString("yyyy-MM-dd") |
                <strong>To:</strong> @filter?.ToDate?.ToString("yyyy-MM-dd")
            </p>
            <p>
                <strong>Customer:</strong> @filter?.CustomerName
            </p>

            <table class="table table-bordered table-striped">
                <thead class="thead-dark text-light">
                    <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Category</th>
                        <th>Out Bound Method</th>
                        <th>UnitOfMeasure</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null && Model.Any())
                    {
                        foreach (var item in Model)
                        {
                            <tr>
                                <td>@count</td>
                                <td>@item.Name</td>
                                <td>@(item.Category?.Name ?? "")</td>
                                <td>@item.OutBoundMethod</td>
                                <td>@item.UnitOfMeasure</td>
                                <td>@item.Description</td>
                            </tr>
                            count++;
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="6" class="text-center text-muted">No records found.</td>
                        </tr>
                    }
                </tbody>
            </table>

            <div class="text-center mt-3">
                <a asp-action="Index" class="btn btn-secondary">Back to Reports</a>
            </div>
        </div>
    </div>
</div>
